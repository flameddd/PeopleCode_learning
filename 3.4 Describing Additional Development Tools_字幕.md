Describing additional development tools. So these development tools are also available. We have Find Definition References, Find In, WinMessage and MessageBox, Trace PeopleCode Page, SetTracePC, and Event Mapping References.

Find Definition References and Find In. You might recall these from PeopleSoft PeopleTools 1 and PeopleSoft PeopleTools 2. We looked at them briefly. Use the following features in PeopleSoft Application Designer to find where PeopleCode is used or to find where a specific definition is used in PeopleCode. Find Definition References uses the Find Definition Reference feature to find references to application packages or classes.

Note-- to be able to search for references to application packages or classes, you must compile all PeopleCode for the database first, which is a one-time task. The current PeopleSoft Application Designer definition-- for example, record definitions, field definitions, page definitions, and so on. And then we have Find In. You use the Find In feature define text strings in PeopleCode programs-- SQL definitions, HTML definitions, or free-form style sheets.

So if we take a look at these-- if I come back over to my training environment, let's say if I go over here to Records and I open up this PSU_STUDENT table. And I want to know where this is being used at. I can come up here on the menu bar and I can say Edit, Find Definition References. And I can tell it what do I want to search in. So I could say particular search filters, definition name, object. I can come in here and tell it which one of these definition types. So I could say, I don't really care about looking at app engines. So I could remove that. Maybe I don't care about analytic models or file layouts. But I pick which ones I want, and then I hit find.

And it goes through here and it says this definition is being used in 23 different definition types. So if I close this, over here in the output window, you can see where this is being utilized. So if I bring this up a little bit here where I can read a little bit more of it, you can see where this record is being used in a query view, where it's being used in PeopleCode, where it's being used in a page. So here I can see all these different places that it's being utilized at. Be careful-- being used in 120 something locations means making a change here might have a huge impact that you need to test thoroughly.

Another thing I can use with the Find Definition Reference is if I come over here and let's say I open up an application package. If I do a File, Open, and I say open up an application package-- we'll be working with those later on in the week. But if I say, let's open up application package PTFP. And here you see we've got one-- PTFP_FEED.

I open up this application package. You'll see that it's got some sub-packages and some application classes in here. And maybe I want to know where an application class is being used. If I go over this Feed option, right mouse click on it, I can say, show me the Find Definition References. When I click on it, I can see this particular application class is being used in the project PPLT, whatever that is, cursor. And then I can also see it's found in this project as well. So I can go in here and take a look at where it's being used at to be able to take a look at it.

If I close this, we have the Find In. So Find In, if I go up here and say Edit, Find In, Find In is an option where I can search through definitions for a particular field or a particular record or maybe your initials. Maybe I want to find my initials out here-- GES-- to see because maybe-- when I write my PeopleCode, I typically put in my initials and a date of where I got PeopleCode that I've written. So maybe you want to search where your company has comments for a PeopleCode location.

It says, where do you want to look at? So you have Define Type, Text String, and PeopleCode and SQL. Maybe I only want to look in PeopleCode. A specific project you want to look at, maybe. Here I could tell it where to look at. I'm just going to keep everything selected. I could come in here and say, do I want to save this to a file when I find it? Don't really want to. But once I put in all my filters, I hit Find.

And here it says that we found two occurrences of GES. Founded on the PSU_STUDENT table, Student Name Field Edit. And I could right click on this and I could say, show me the PeopleCode. Oh, there it is. GES on 3/11/2020, Greg Swinson is one good looking instructor. If it's in writing, baby, it must be true.

But again, I can search for comments, I could search for a field, whatever I'm trying to find out and see where it's at. It could be searching through SQL, HTML, PeopleCode, Style Sheets-- the sky's the limit. Or at least PeopleSoft is. And the book's just showing us some examples.

Other things we have here-- WinMessage and MessageBox. WinMessage and MessageBox are quick, simple ways to set a breakpoint in a program and show values in variables or fields. The syntax for WinMessage is WinMessage, and then you have the message you want to display. You have a style that you can send it, and then you also can optionally put in a title as well.

Typically, most of the time when you're doing a WinMessage, you're just usually putting in a string of text that you want to get displayed. A lot of times, we might use WinMessage is somewhat kind of like a breakpoint when we're troubleshooting our code. Put a message here and let me know what's in this variable when I'm running as an example where you could use it.

So for example, WinMessage "Debugging info &I equals." Notice it's in double quotes, so literal text says "Debugging info &I equals." then we've got a space and we concatenate. That's the concatenate symbol, the pipe. Then tell me what the value of the variable &I is and concatenate that with the literal text of "&Line equals" and then concatenate that with the actual value of the line.

And then we have a 0. That 0 would be the style. So using WinMessage with a style of 0 gives a message box with a single OK button, which can be used in any PeopleCode event. You can concatenate the values of variables or fields, just as you see in this example. WinMessage is a deprecated built-in function, so it should not be used in production. Use it only during development, and then remove it or comment out the lines of code before you give it to users. So when we're looking at it, typically we use it kind of like a breakpoint on a Windows machine to be able to see what's going on when we're writing our code.

Again, it works well in Windows environments, but not so much in Unix. So only use it for debugging typed information.

Again, over here you see the single pipe. That's for PeopleSoft, how we do a concatenate. You can also use your database-specific types in here-- like with Oracle, you would have a double pipe, or SQL would be a plus sign. So again, you can put in the actual one or you can use our meta SQL code here, which will transform to the database at runtime.

WinMessage and MessageBox continued here. The syntax for MessageBox, very similar to a WinMessage, is you have MessageBox. You have style comma title. So notice a little different order here. Then your message_set, message_num, so this would be pulling from the message catalog. And then we have the default text in case we can't find the messages inside the message catalog. And you could have a parameter list bit to pass values into the message catalog bind variables.

Note that in a Microsoft Windows client, MessageBox dialog box includes an Explain button to display more detailed information stored in the message catalog. The presence of the explained button has no bearing on whether a message box behaves as a think-time function. So when we talk about a think-time function, that's going to be explained on our next page. But it's going to say that a think-time function is basically when we suspend processing waiting for a user to take some action. So we'll look at that in a few moments here.

The WinMessage and MessageBox functions sometimes behave as think-time functions depending upon the value passed and the style parameter of the function, which controls, among other things, the number of buttons that appear in the message dialog box.

So if we look over here at the style parameter, a style of 0 says you're going to get a message box with one button, which is the OK button. If you have a 1, you're going to get an OK and a Cancel button. If you have a 2, you'll get an Abort, Reentry, and Ignore buttons. If you have a 3, you'll get a Yes button, a No button, and a Cancel button. If you have a 4, it's going to be a Yes, No-- so two buttons, Yes and No. And then if you have a 5, you'll get a Retry or a Cancel button showing up.

WinMessage is the simplest way of doing debugging. So you can use it as an indicator flag to inform you when a certain piece of code, such as a conditional branch, is reached; to display the current value of fields and variables; and to remind you to modify your program. So importing a WinMessage style parameter that specifies more than one button will suspend execution while the processor waits for the user to respond. After you debug the program, remove the message.

This debugging method is not always the most accurate. At times, the dialog box is delayed from appearing. In general, tracing or using PeopleCode Debugger is more accurate but more complex to use.

Important-- WinMessage should not be used in production. It works for browsers running in a Windows environment, but is Windows-specific. Use it only during development and then remove or comment out the code before putting it into production. WinMessage is supported for compatibility with previous PeopleTools releases. New application development should use the MessageBox function instead and is supported for both Unix and Windows operating environments.

Here it tells you a WinMessage function that omits the style parameter or uses one that specifies more than one button makes it a think-time function. Suspending processing either until the user takes some actions, such as clicking a button or a message box; or until an external process, such as a remote call process call has run to completion.

Therefore, WinMessage as a think-time function cannot be used in any of the following cases. Cannot use it in SavePreChange, Workflow, RowSelect, SavePostChange events, any PeopleCode event that fires as a result of a ScrollSelect, ScrollSelectNew, RowScollSelect, or RowScrollSelectNew function call, or any PeopleCode event that fires as a result of a Rowset class select or SelectNew method.

Important to avoid making a WinMessage a think-time function so that you can use it in any PeopleCode event. Always use WinMessage with a style parameter set to 0.

Event Mapping references-- in the PeopleCode Editor, the Event Mapping button is a visual indicator of custom PeopleCode programs mapped to events. The event mapping references tab lists all components where an application class found via the Event Mapping button has been used. Note the list of components cannot be obtained from the application class definition itself.

So if we want to take a look at an Event Mapping reference, we don't really get into it in this course. But if I come back over to our training environment here, and I got the file. Open up the PSU_STUDENT component. And let's say I open this one up. And I'm going to go in here and say View my PeopleCode.

And here you'll see there's a button up here on the toolbar for Event Mapping. And if I click on it, it'll show me where we have Event Mapping set up. So here it says Event Mapping Component Level Events. So here you see we've got this PT code-- PT code would be the name of an application package. Then you see dies. [? STU_POSTBLD. ?] That would be the name of an application class. And then you see OnExecute, which would be the event that we have here. And you could say take me into that PeopleCode if we wanted to take a look at information inside here.

Tracing PeopleCode-- a PeopleCode trace creates a file that displays information about PeopleCode programs processed from the time you start the trace. Four ways to start a trace are from the Trace PeopleCode page, clicking the link to set a startup trace on the PeopleSoft sign-on page, using the Trace utility in Configuration Manager, and including the SetTracePC PeopleCode built-in function program.

So when we talk about where you could set it up, you can trace people go by going into PeopleTools, Utilities, Debug, Trace PeopleCode. When you go into that, you're going to see an option. Oops. It may scroll on down here. There we go. You'll see the option inside here of what is it you want to trace. So these are bitmaps that map to the application server domain's PS App Server Config file. The administrator determines what things he wants you to allow to be able to be traced.

So this is where he says what you can do-- or she. And then you can go in here to turn on the tracing. And by turning it on in PeopleTools, Utilities, Debug, Trace PeopleCode, you could turn it on then immediately open up a program you want to trace. And as soon as you're done tracing it, you could turn it right back off.

In addition, you also could do this through sign-on. So you could sign in to the PIA and turn on tracing as soon as you sign in. So for example, if I came back over here and-- I'm going to come in here and sign out of the PIA. And if I come in here and sign back in, here you see Set Trace Flags. If I click on it-- and again, you might not have authority to do this. Depends upon what's been granted to you.

But here's where you could say what is it that you want to trace for your PeopleCode. So I could come in here and say I want to trace my list program, variable assignments, fetched values, program starts, external function calls, internal function-- I select what it is. Then I can sign in here. And again, I like, preferably, to go through the option the book had prior to this where I could turn it on not for everything, but only for the program I'm wanting to go into. Right now, this is good at tracing all the PeopleCode that's being used even during the sign in.

But if I come over here and I go to my navbar-- and you can see that it takes quite a bit of time here. But if I go to my Navigator and I go to Students and I go into Personal Information-- maybe I should have turned down a little bit less on the trace. OK, while that builds up, I'm going to go back over here to the guide for a moment.

And so here you see where this turns on. What you're allowed to turn on is based upon-- or whether you get this screen at all is based upon your web profile configuration.

Here it's showing you can also turn on tracing in Configuration Manager. This is pretty well. About the only thing it's used for now is application engines. So this is where I can turn it on here. If I turn it on through Configuration Manager, it'll be turned on until you turn it back off. If I turn it on as a sign-on trace going into the PIA, it's only good for that one sign-in. And if I turn it on through the PeopleCode utility, it's only going to be for that session. And then when I turn it off, it might not even be recording for the whole session.

Here it takes me in here, and I'm just going to add a new value here. I'll click on Add, and I'll say let's add a new row of data here. I'm going to say let's add Swinson comma Joe, and I'll say customer XYZ. And I'll say project role DBA. And I'll just say same address as customer.

When I hit Save, I've got PeopleCode that's been fired. I had other PeopleCode fired. But now, I'm going to go ahead and sign out. And now I have a trace file. I don't know exactly where it's at on this machine because I'm not familiar with their environment build here. But it's probably right here-- T1B_cfg_home. If I look in my app server, T1B 85701 underneath my logs, here it is. There's my PeopleCode trace.

So it's by my user name here. You see it's called tracesql. And I can open this up with maybe a Notepad to take a look at what's going on. And it might take it a second to open. So while it's opening, I'm going to keep on going through our guide here.

Notice I can also set up my PeopleCode to be done through-- or my tracing being done programmatically. You can run a PeopleCode trace from within a PeopleCode program using SetTracePC built-in function. And when you use this built-in function, you put in the number of what you want to trace. Now the number-- you see 4 plus 8. That would be the bitmap item that you want to trace out here. So for example, 4 plus 8 would be setting up your trace PeopleCode assignments and your trace PeopleCode fetches.

But each number that we have is going to be-- the 4 in the 8's going to map to a specific bitmap. Like over here, you see these different checkboxes. Each checkbox here is associated to a number. It's the same thing you noticed over here in the PIA. Each checkbox is associated to a number. So when you're selecting these, they're all going to add a number. And that's information that's going to get traced. And here you see my trace file.

So in this lesson, lesson number 3, you learned that you can follow an eight-step process to develop PeopleSoft applications. PeopleTools definitions that contain PeopleCode include record, component, page, application package within the application classes, component interface, message, App Engine, and menu definitions. You can use PeopleCode Editor to write and edit PeopleCode programs. You can view data structures and step through PeopleCode programs using the PeopleCode Debugger. Other development features you will use to write, test, and debug, and analyze the impact of PeopleCode programs include the Find Definition References, Find In, WinMessage, MessageBox, Event Mapping, and Tracing PeopleCode. That concludes lesson 3.
