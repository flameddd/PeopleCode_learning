Derived work fields. Derived work fields provide working storage for components. They exist for the duration of the current component. They're stored on derived work records. They can be defined as edit fields, including as prompt table edits, translate table edits, and yes/no edits. And can be associated with push buttons. When we talk about derived work fields, it's another type of way of being able to set up fields in there that are used as a type of variable.

So when we look at the variables we've been discussing, we said we declare the variable in PeopleCode is either local component or global. But these variables cannot be displayed on a page. They're used to be stored in memory. Can be used to control whether I do something on a page, but they don't actually show up on the page. The user can't see it. So that's why we have derived work fields.

When we set up derived work fields to use them, they're automatically going to have a scope of component. If we take a look at this, if I come over to our Application Designer, I'm going to go in here and look in, well, let's look at the PIA first. If I come over here to the PIA and go to my nav bar, go to my Navigator. And if I go back to my root level and go to Purchasing, maintain purchase orders. I'm going to search and I'm going to select a row of data.

So we talked about earlier we had some PeopleCode row in it, field changed PeopleCode that's calculating this total price and this grand total that's being displayed on the page. If we take a look at this an App Designer, this is the psu_purchaseorder, is the name of our component. That's the real reason why I came here first. I couldn't remember the name.

But if I come over here and I do a File open, and I open up that component, PSU_purchaseorder. And here you see the page that I have. And you can see, I also have the structure. If I click on structure, here you'll see this page is using a record called derived education services. So you can see the components loading that. Or I could go over to the definition. I could just double-click to open up the page.

And on this page, you see, I got the fields for total price and grand total. If I double-click on total price, notice it's coming from this record called derived education services. It is a field called total price. If I come over here and look at grand total, we can see that it's coming from derived education services, and it is the grand total. Of I right-click on one of those two, I could say, View the definition. And this opens up my derived work record.

Now with a derived work record, what is it? It is a record that is used to include fields. And the purpose is either for functions or for fields to be displayed on a page that's going to be calculated. So we use it for calculated fields that are on a page. Or we use it to be able to build functions. if you'll look on this one here, you'll see that we have nine fields on this one. So we have grand total, total price, insert button, a delete button, course, session number, refresh button, total days.

There's nothing special about these fields these are just regular fields. If I came over here and I opened up the grand total, you would see that this is a number of field, 12 integer, two decimal positions. Nothing special being done on this field whatsoever. Same thing with all these other fields. But these fields are inserted into this derived work record. If I go to the record type tab, you'll see that it's a type derived work. What does that mean?

Well, it means that is going to be made up of fields, but there is no view behind it. It's not going to be used to create dynamic SQL. It's not a template of fields that are going to be used on multiple pages. So it's not no subrecord. And it's not used to build a table in the database. When you create a derived work record, you can't build it. Notice if I come over here and I go to build, current definition is grayed out. You can't create a view, you can't go out there and create a table. What is it? It is a record definition, a placeholder of fields. And then I can use these fields from this to be able to put this onto a page. So that's what it's going to be used for.

Derived work records, it identifies a record definition that has fields that are shared across application modules or groups. So the fields I just seen, you seen that had the total price and grand total on it. But then we seen a lot of fields we don't see on that purchase order application that could be used anywhere in the system. And the purpose is to define temporary in memory workspace.

Some uses for derived work fields include displaying a value on a page without storing the value in the database. Temporary storage of data values that you need to pass from one PeopleCode program to another in the current component. Storage location for a field edit, and field change PeopleCode programs attached to record fields associated with command push buttons. And permanent storage of application-specific external PeopleCode functions.

Following table presents a useful comparison of the characteristics of variables in derived work fields. So when we talk about, when we're talking about a lifespan, it says lifespan is life of the program characteristics. For a local variable, it's only for that one program. Component variable is life the component. And global variable is the session. Derived work field is for the life of the component.

Purpose. Local variables are used to store data values temporarily for the duration of the current PeopleCode program. Component variables is to pass values to more than one PeopleCode program in the current component. Global variables are to pass values to more than one PeopleCode program in different components. Derived work fields display data value on a page without storing it in the database. These can be used to story PeopleCode program to be executed as well, typically for functions.

What can appear on a page? Only the derived work field's can appear on the page. The creation process for creating these. Local variables are done by declaration or alternatively, by assignment. Component and global variables have to be declared. With derived work fields, we create a field definition. We create a record definition, add the field to it, set the record definition to be a derived work field. And then you save it. Then you can add that record field to a page to allocate space in memory. And to be able to be used inside of PeopleCode.

Used derived work fields instead of variables when you need to display values, such as calculated fields on a page. You need a push button and do not want to store the calculated results of the action. You need to store functionality for reuse in several components. So we come in here and take a look again. We seen that we had the logic set up over here. Here, we created these work fields. Then we took these fields and we dragged them into a page in the component.

Now the logic of where I'm going to use these and calculate in this particular case, we set those up on the record definition. If I view the record PeopleCode here, here you can see where we set quantity on the field change, logic to calculate 0 price is equal to derived education total price. Total price is equal to the quantity times the price. And the grand total is the grand total plus the derive total minus the old price.

This logic had to be done both on the quantity field and also needs to be done on the price field on the field change, because we don't know what the user is going to be selecting. We also have a rowinit code. That's going to be used when a user is coming in inquiry mode to look at this information and be able to calculate the values for these derived work fields when a user first comes into the page.

Creating and using a derived work field to create and use drive work fields. You create a field definition of one that doesn't already exist, that meets your needs. You would go create a new one. Then you go out and create a work record to place that field inside of. Add the field to the derived work record. Add the derived field web page to allocate space in memory. And then you use the field in PeopleCode programs to calculate the derived value.

So here, let me go back up here. If I come in here. So it talks about creating the field definition. Then you create a record definition. When you create the record definition, you tell it it's a type derived work record. Insert the fields that you want. We looked at this. Then add those fields to the page. Derived work fields are added to a page just like any other field, and modified using page field properties pop-up menu item.

Note, these characteristics about derived work fields on page definitions. Since derived work fields are mainly updated by PeopleCode, they are usually made display only on a page. Derived work fields can be placed on any occurs level. Since no application data is stored in derived work fields, they are allocated or allowed to break the following field order rule. All fields on the same level need to be attached to the same record definition, unless they are related. Well, since it's not a SQL table, SQL view it's coming from, that rule doesn't apply to fields coming from a derived work record.

Except for the previous exception, derived work fields are treated the same as any other field in a page definition. Therefore, all other field order rules apply. PeopleSoft system allows derived work records to be updated by a user, but the value remains in memory as long as the component is current. So again, we looked at this earlier, where we see that we can insert the fields from a derived work record into a page. So that's what they're showing you listed in here. The grand total is put in at the level 0. Then you see the total price is occurring from the derived work record at level 1. And you typically set these fields to be display only, since they're going to be calculated.

And as we looked at a few moments ago, then I'd come in and set up the PeopleCode logic that I want to get executed on this right here. So here you see the rowinit PeopleCode, for example, that's going to get executed. Brings a valuable activity up here. So we have activity 12, calculating and displaying derived values. In this activity, you review the activity overview. And then enhance the training task application to calculate and display the effort to go on the Task page. And display the resource status on the Task Resource page.

